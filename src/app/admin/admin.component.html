<p-toast></p-toast>
<p-confirmDialog></p-confirmDialog>


<p-table #dt1 [value]="allusers" [tableStyle]="{ 'min-width': '68rem' }"
[paginator]="true"
[rows]="5"
[globalFilterFields]="['nombre','codigo']"

>

<ng-template pTemplate="caption">
    <tr>
        <th>
            <span><button (click)="crearUser()" style="margin-right: 10px;">Crear Usuario</button></span>
        </th>   
        
        <th style="flex-grow: 1; display: flex; justify-content: center; font-size: 30px;">
 
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
            ADMINISTRADOR
        </th>
    
    </tr>
    

</ng-template>


<ng-template pTemplate="header">
    <tr>
      
        <th pSortableColumn="nombre">Nombre</th>
       
        <th pSortableColumn="codigo">Correo</th>
        <th >Contrasae√±a</th>
        <th >Rol</th>
        <th>Fecha Creacion</th>
        <th>Opciones</th>

        
    </tr>
</ng-template>

<ng-template pTemplate="body" let-user let-i="rowIndex">
    <tr >
       
        <td>{{ user.username }}</td>
        <td>{{ user.email }}</td>
        <td>{{ user.password }}</td>
        <td> {{ user.rol === 1 ? 'ADMIN' : (user.rol === 2 ? 'Empleado' : user.rol) }}</td>

        <td>{{formatearFecha(user.created_at)}} </td>
        
       
        <td>
            <span class="icon">
                <i class="pi pi-pencil" style="font-size: 1rem;color: rgb(157, 216, 63); margin-right: 5px;" (click)="editarUser(user.iduser,user.username,user.email)" title="Editar"></i>
                <i class="pi pi-trash" style="font-size: 1rem;color: rgb(216, 63, 63); margin-right: 5px;" (click)="eliminar(user.iduser)" title="Eliminar"></i>
            </span>
        </td>
        
        
    </tr>
</ng-template>

</p-table>